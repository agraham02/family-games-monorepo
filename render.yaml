services:
    - type: web
      name: family-games-api
      runtime: node
      region: virginia
      plan: free
      branch: main
      rootDir: apps/api
      buildCommand: cd ../.. && pnpm install && pnpm build:shared && cd apps/api && pnpm build
      startCommand: pnpm start
      envVars:
          - key: NODE_ENV
            value: production
          - key: SUPABASE_URL
            sync: false # Set this in Render dashboard
          - key: SUPABASE_SECRET_KEY
            sync: false # Set this in Render dashboard (use service role key, not anon key)
      autoDeploy: true
